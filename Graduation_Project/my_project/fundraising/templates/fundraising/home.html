{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CrowdFund - Empowering Dreams Together</title>
    <link rel="stylesheet" href="{% static 'fundraising/style.css' %}">
    <link rel="icon" type="image/svg+xml" href="{% static 'fundraising/favicon.svg' %}">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <nav class="nav-container">
            <a href="{% url 'home' %}" class="logo">
                <i class="fas fa-hand-holding-heart"></i>
                CrowdFund
            </a>
            <ul class="nav-links">
                <li><a href="{% url 'home' %}">Home</a></li>
                <li><a href="{% url 'project_list' %}">Projects</a></li>
                {% if user.is_authenticated %}
                    <li><a href="{% url 'create_project' %}">Create Project</a></li>
                    <li><a href="{% url 'logout' %}">Logout</a></li>
                {% else %}
                    <li><a href="{% url 'login' %}">Login</a></li>
                    <li><a href="{% url 'register' %}">Register</a></li>
                {% endif %}
            </ul>
        </nav>
    </header>

    <!-- Hero Section -->
    <section class="hero">
        <h1>Empowering Dreams Together</h1>
        <p>Join thousands of people making a difference through crowdfunding. Start your journey today and turn your ideas into reality.</p>
        <div class="hero-buttons">
            {% if user.is_authenticated %}
                <a href="{% url 'create_project' %}" class="btn btn-primary">
                    <i class="fas fa-plus"></i> Start Your Project
                </a>
                <a href="{% url 'project_list' %}" class="btn btn-secondary">
                    <i class="fas fa-search"></i> Explore Projects
                </a>
            {% else %}
                <a href="{% url 'register' %}" class="btn btn-primary">
                    <i class="fas fa-user-plus"></i> Get Started
                </a>
                <a href="{% url 'login' %}" class="btn btn-secondary">
                    <i class="fas fa-sign-in-alt"></i> Sign In
                </a>
            {% endif %}
        </div>
    </section>

    <!-- Main Content -->
    <main class="main-container">
        <!-- Stats Section -->
        <section class="stats-section">
            <div class="stat-card">
                <div class="stat-number">
                    <i class="fas fa-users"></i>
                    {{ projects.count|default:"0" }}
                </div>
                <div class="stat-label">Active Projects</div>
            </div>
            <div class="stat-card">
                <div class="stat-number">
                    <i class="fas fa-handshake"></i>
                    {{ projects.count|default:"0" }}
                </div>
                <div class="stat-label">Successful Campaigns</div>
            </div>
            <div class="stat-card">
                <div class="stat-number">
                    <i class="fas fa-dollar-sign"></i>
                    ${{ total_raised|default:"0" }}
                </div>
                <div class="stat-label">Total Raised</div>
            </div>
            <div class="stat-card">
                <div class="stat-number">
                    <i class="fas fa-heart"></i>
                    {{ projects.count|default:"0" }}
                </div>
                <div class="stat-label">Happy Supporters</div>
            </div>
        </section>

        <!-- Featured Projects -->
        <section class="card">
            <h2><i class="fas fa-star"></i> Featured Projects</h2>
            <div class="projects-grid">
                {% for project in projects|slice:":6" %}
                    <div class="project-card">
                        <div class="project-image">
                            {% if project.image %}
                                <img src="{{ project.image.url }}" 
                                     alt="{{ project.title }}" 
                                     style="width: 100%; height: 200px; object-fit: cover; border-radius: 10px; margin-bottom: 1rem;">
                            {% else %}
                                <img src="https://images.unsplash.com/photo-1557804506-669a67965ba0?w=400&h=250&fit=crop&crop=center" 
                                     alt="{{ project.title }}" 
                                     style="width: 100%; height: 200px; object-fit: cover; border-radius: 10px; margin-bottom: 1rem;">
                            {% endif %}
                        </div>
                        <h3>{{ project.title }}</h3>
                        <p>{{ project.details|truncatewords:20 }}</p>
                        <div class="project-progress">
                            <div class="progress-bar">
                                <div class="progress-fill" style="width: 75%;"></div>
                            </div>
                            <div class="progress-text">75% of ${{ project.target }} raised</div>
                        </div>
                        <div class="project-meta">
                            <span class="project-owner">
                                <i class="fas fa-user"></i> {{ project.owner.username }}
                            </span>
                            <span class="project-date">
                                <i class="fas fa-calendar"></i> {{ project.start_date|date:"M d, Y" }}
                            </span>
                        </div>
                    </div>
                {% empty %}
                    <div class="project-card" style="grid-column: 1 / -1; text-align: center;">
                        <i class="fas fa-lightbulb" style="font-size: 3rem; color: #667eea; margin-bottom: 1rem;"></i>
                        <h3>No Projects Yet</h3>
                        <p>Be the first to create an amazing crowdfunding project!</p>
                        {% if user.is_authenticated %}
                            <a href="{% url 'create_project' %}" class="btn btn-primary">
                                <i class="fas fa-plus"></i> Create First Project
                            </a>
                        {% else %}
                            <a href="{% url 'register' %}" class="btn btn-primary">
                                <i class="fas fa-user-plus"></i> Join and Create
                            </a>
                        {% endif %}
                    </div>
                {% endfor %}
            </div>
        </section>

        <!-- How It Works -->
        <section class="card">
            <h2><i class="fas fa-question-circle"></i> How It Works</h2>
            <div class="how-it-works">
                <div class="step">
                    <div class="step-icon">
                        <i class="fas fa-lightbulb"></i>
                    </div>
                    <h3>1. Create Your Project</h3>
                    <p>Share your innovative idea with the world. Set your funding goal and tell your story.</p>
                </div>
                <div class="step">
                    <div class="step-icon">
                        <i class="fas fa-share-alt"></i>
                    </div>
                    <h3>2. Share & Promote</h3>
                    <p>Spread the word through social media and reach potential supporters worldwide.</p>
                </div>
                <div class="step">
                    <div class="step-icon">
                        <i class="fas fa-trophy"></i>
                    </div>
                    <h3>3. Achieve Your Goal</h3>
                    <p>Collect funds from supporters and turn your dream into reality.</p>
                </div>
            </div>
        </section>

        <!-- Categories -->
        <section class="card">
            <h2><i class="fas fa-tags"></i> Popular Categories</h2>
            <div class="categories-grid">
                <div class="category-card">
                    <i class="fas fa-laptop-code"></i>
                    <h3>Technology</h3>
                    <p>Innovative tech solutions</p>
                </div>
                <div class="category-card">
                    <i class="fas fa-palette"></i>
                    <h3>Art & Design</h3>
                    <p>Creative expressions</p>
                </div>
                <div class="category-card">
                    <i class="fas fa-leaf"></i>
                    <h3>Environment</h3>
                    <p>Green initiatives</p>
                </div>
                <div class="category-card">
                    <i class="fas fa-graduation-cap"></i>
                    <h3>Education</h3>
                    <p>Learning opportunities</p>
                </div>
                <div class="category-card">
                    <i class="fas fa-heartbeat"></i>
                    <h3>Health</h3>
                    <p>Medical innovations</p>
                </div>
                <div class="category-card">
                    <i class="fas fa-music"></i>
                    <h3>Music</h3>
                    <p>Musical projects</p>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-content">
            <h3><i class="fas fa-hand-holding-heart"></i> CrowdFund</h3>
            <p>Empowering dreams, one project at a time.</p>
            <div class="social-links">
                <a href="#"><i class="fab fa-facebook"></i></a>
                <a href="#"><i class="fab fa-twitter"></i></a>
                <a href="#"><i class="fab fa-instagram"></i></a>
                <a href="#"><i class="fab fa-linkedin"></i></a>
            </div>
            <p>&copy; 2024 CrowdFund. All rights reserved.</p>
        </div>
    </footer>

    <script>
        // Add some interactive features
        document.addEventListener('DOMContentLoaded', function() {
            // Animate stats on scroll
            const stats = document.querySelectorAll('.stat-number');
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.style.animation = 'pulse 1s ease';
                    }
                });
            });
            
            stats.forEach(stat => observer.observe(stat));

            // Smooth scrolling for navigation links
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();
                    document.querySelector(this.getAttribute('href')).scrollIntoView({
                        behavior: 'smooth'
                    });
                });
            });
        });
    </script>
</body>
</html>

